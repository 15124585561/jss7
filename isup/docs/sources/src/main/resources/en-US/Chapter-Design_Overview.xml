<?xml version='1.0'?>
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [<!ENTITY % BOOK_ENTITIES SYSTEM "SS7_Stack_User_Guide.ent">%BOOK_ENTITIES;]>

<chapter id="design_overview">

	<title>Design Overview</title>


	<important>
		<para>Be
			aware, &THIS.PLATFORM; &THIS.APPLICATION;
			is subject to changes as it is under active development!
		</para>
	</important>
	<note>
		<para>
			<acronym>SS7</acronym>
			design allows
			<acronym>ISUP</acronym>
			to be used on top of
			<acronym>SCCP</acronym>,
			however currently &THIS.PLATFORM;
			<acronym>ISUP</acronym>
			does not support this use case.
		</para>
	</note>

	<!-- something here? -->

	<note>
		<para>For messages definition please refer to source or Q.763.
				</para>
	</note>
	<para>
		<acronym>ISUP</acronym>
		specification declares only messages and parameters to pass
		information about trunks and circuits setup.
			&THIS.PLATFORM;
		<acronym>ISUP</acronym>
		introduces notion of transactions. Transaction groups messages
		which
		logically belong to single interaction (like associating circuit to
		call or releasing circuit).
		Server transaction is used as reference for
		incoming request. It
		provides means of sending answer back to
		originating peer.
		Client transaction is used as reference for outgoing
		requests. It
		provides means of sending request to remote peer. Also
		incoming answers will be delivered on client transaction which sent
		it.
	</para>
	<para>
		Depending on type of action and messages involved, life time of
		transaction
		varies. Diagram below depicts transaction scope:
	</para>
	<mediaobject id="ss7_design_isup_transactions_1">
		<imageobject>
			<imagedata width="300px" align="center"
				fileref="images/ss7-isup-design-transaction-overview1.png" format="PNG" />
		</imageobject>
		<caption>
			<para>
				<acronym>ISUP</acronym>
				transactions overview
			</para>
		</caption>
	</mediaobject>
	<note>
		<para>Depending on transaction state machine messages #2 and #3 may
			not be present.</para>
	</note>
	<para>
		Following transactions types are defined by &THIS.PLATFORM;
		<acronym>ISUP</acronym>
		:
		<table frame="all" pgwide="1">
			<title>Transaction types</title>
			<tgroup colsep="1" cols="4">
				<colspec colnum="1" colname="c0" />
				<colspec colnum="2" colname="c1" />
				<colspec colnum="3" colname="c2" />
				<colspec colnum="4" colname="c3" />
				<thead>
					<row>
						<entry>Name</entry>
						<entry>Initial message</entry>
						<entry>Intermediate messages</entry>
						<entry>Final message</entry>
					</row>
				</thead>
				<tbody>
					<row>
						<entry>IAM</entry>
						<entry>IAM</entry>
						<entry>ACM</entry>
						<entry>ANM</entry>
					</row>
					<row>
						<entry>REL</entry>
						<entry>REL</entry>
						<entry></entry>
						<entry>RLC</entry>
					</row>
					<row>
						<entry>CGB</entry>
						<entry>CGB</entry>
						<entry></entry>
						<entry>CGBA</entry>
					</row>
					<row>
						<entry>GRS</entry>
						<entry>GRS</entry>
						<entry></entry>
						<entry>GRA</entry>
					</row>
					<row>
						<entry>CGU</entry>
						<entry>CGU</entry>
						<entry></entry>
						<entry>CGUA</entry>
					</row>
					<row>
						<entry>RSC</entry>
						<entry>RSC</entry>
						<entry></entry>
						<entry></entry>
					</row>
					<row>
						<entry>UBL</entry>
						<entry>UBL</entry>
						<entry></entry>
						<entry>UBA</entry>
					</row>
					<!-- Here more will go. -->

				</tbody>
			</tgroup>
		</table>

	</para>
	<para>
		Transactions are either terminated on receiving or sending final response or when
		certain time elapses without answer. In both cases stack user is notified that transaction is no longer valid.
	</para>
</chapter>

